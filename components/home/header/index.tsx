import { signOut, useSession } from "next-auth/client";
import { useRouter } from "next/dist/client/router";
import * as Invoice from "../../../shared/types";
import Button from "../../../shared/ui/button";

import classes from "./header.module.css";

const Header: React.FC<Invoice.Invoice.HeaderOptions> = ({
  products,
  loading,
  button,
  showAddProductHandler,
  removerAllProductshandler
}) => {
  const router = useRouter();
  const [session, load] = useSession();

  return (
    <div className={classes.header}>
      <ul className="d-flex align-items-center justify-content-between">
        <li
          onClick={() => {
            if (router.pathname !== "/") {
              router.push("/");
            }
          }}
          className="hover"
        >
          <div className="d-flex align-items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              x="0px"
              y="0px"
              width="50"
              height="50"
              viewBox="0 0 172 172"
            >
              <g
                fill="none"
                fillRule="nonzero"
                stroke="none"
                strokeWidth="1"
                strokeLinecap="butt"
                strokeLinejoin="miter"
                strokeMiterlimit="10"
                strokeDasharray=""
                strokeDashoffset="0"
              >
                <path d="M0,172v-172h172v172z" fill="#181c20"></path>

                <g fill="#ffffff">
                  <path d="M44.59235,10.32c-1.84975,0.06887 -3.31344,1.58897 -3.31235,3.44v75.68h-6.88c-7.55236,0 -13.76,6.20763 -13.76,13.76v55.04c-0.01754,1.24059 0.63425,2.39452 1.7058,3.01993c1.07155,0.62541 2.39684,0.62541 3.46839,0c1.07155,-0.62541 1.72335,-1.77935 1.7058,-3.01993v-55.04c0,-3.79963 3.08036,-6.88 6.88,-6.88h6.88v6.88c-3.8012,0 -6.88,3.0788 -6.88,6.88c0,3.8012 3.0788,6.88 6.88,6.88h89.44c3.8012,0 6.88,-3.0788 6.88,-6.88c0,-3.8012 -3.0788,-6.88 -6.88,-6.88v-6.88h6.88c3.79963,0 6.88,3.08037 6.88,6.88v55.04c-0.01754,1.24059 0.63425,2.39452 1.7058,3.01993c1.07155,0.62541 2.39684,0.62541 3.46839,0c1.07155,-0.62541 1.72335,-1.77935 1.7058,-3.01993v-55.04c0,-7.55237 -6.20763,-13.76 -13.76,-13.76h-6.88v-75.68c-0.00004,-1.19226 -0.61737,-2.29951 -1.63154,-2.92636c-1.01418,-0.62685 -2.2806,-0.68392 -3.34705,-0.15083l-5.3414,2.67406l-5.3414,-2.67406c-0.96857,-0.48429 -2.10862,-0.48429 -3.07719,0l-5.3414,2.67406l-5.3414,-2.67406c-0.96857,-0.48429 -2.10862,-0.48429 -3.07719,0l-5.3414,2.67406l-5.3414,-2.67406c-0.96857,-0.48429 -2.10862,-0.48429 -3.07719,0l-5.3414,2.67406l-5.3414,-2.67406c-0.96857,-0.48429 -2.10862,-0.48429 -3.07719,0l-5.3414,2.67406l-5.3414,-2.67406c-0.96857,-0.48429 -2.10862,-0.48429 -3.07719,0l-5.3414,2.67406l-5.3414,-2.67406c-0.51617,-0.25886 -1.08919,-0.38363 -1.66625,-0.36281zM58.48,17.60312l5.3414,2.67406c0.96857,0.48429 2.10862,0.48429 3.07719,0l5.3414,-2.67406l5.3414,2.67406c0.96857,0.48429 2.10862,0.48429 3.07719,0l5.3414,-2.67406l5.3414,2.67406c0.96857,0.48429 2.10862,0.48429 3.07719,0l5.3414,-2.67406l5.3414,2.67406c0.96857,0.48429 2.10862,0.48429 3.07719,0l5.3414,-2.67406l5.3414,2.67406c0.96857,0.48429 2.10862,0.48429 3.07719,0l1.9014,-0.95406v72.97906c-0.0614,0.37149 -0.0614,0.75054 0,1.12203v16.65578h-75.68v-16.62219c0.0614,-0.37149 0.0614,-0.75054 0,-1.12203v-73.01266l1.9014,0.95406c0.96857,0.48429 2.10862,0.48429 3.07719,0zM82.56,30.96v7.63922c-5.50388,0.89512 -9.59489,3.17687 -11.47563,6.04688c-2.29625,3.50408 -2.28437,7.13531 -2.28437,7.13531c0,4.91607 2.95496,8.71038 6.44328,10.91125c3.48832,2.20087 7.56273,3.4137 11.40844,4.66953c3.8457,1.25584 7.44405,2.55107 9.74219,4.15219c2.29813,1.60112 3.3661,3.01429 3.3661,6.04016c0,0 0.01342,1.83399 -1.49828,3.92375c-1.51169,2.08976 -4.45429,4.52172 -12.26172,4.52172c-7.68267,0 -10.53034,-2.69482 -12.13406,-5.26078c-1.60372,-2.56596 -1.62594,-5.05922 -1.62594,-5.05922h-6.88c0,0 -0.02236,4.38674 2.67406,8.70078c2.29447,3.67116 7.36815,6.72882 14.52594,7.71312v7.6661h6.88v-7.5586c7.03357,-0.83933 12.03092,-3.41924 14.39828,-6.69187c2.78831,-3.85456 2.80172,-7.955 2.80172,-7.955c0,-5.18713 -2.80204,-9.24066 -6.3089,-11.6839c-3.50687,-2.44325 -7.64852,-3.77408 -11.54281,-5.04578c-3.8943,-1.27171 -7.55989,-2.48897 -9.87656,-3.95063c-2.31667,-1.46165 -3.23172,-2.55956 -3.23172,-5.09281c0,0 0.01204,-1.62074 1.15563,-3.36609c1.14374,-1.74536 3.15928,-3.69531 9.16437,-3.69531c6.02,0 8.04494,1.92881 9.17781,3.62813c1.13287,1.6993 1.14219,3.25187 1.14219,3.25187h6.88c0,0 0.00929,-3.60743 -2.29781,-7.06813c-1.88877,-2.83315 -5.97316,-5.06756 -11.46219,-5.94609v-7.62578zM41.28,127.28c-1.89888,0 -3.44,1.54112 -3.44,3.44v6.88c0,1.89888 1.54112,3.44 3.44,3.44h20.64c1.89888,0 3.44,-1.54112 3.44,-3.44v-6.88c0,-1.89888 -1.54112,-3.44 -3.44,-3.44zM75.68,127.28c-1.89888,0 -3.44,1.54112 -3.44,3.44v6.88c0,1.89888 1.54112,3.44 3.44,3.44h20.64c1.89888,0 3.44,-1.54112 3.44,-3.44v-6.88c0,-1.89888 -1.54112,-3.44 -3.44,-3.44zM110.08,127.28c-1.89888,0 -3.44,1.54112 -3.44,3.44v6.88c0,1.89888 1.54112,3.44 3.44,3.44h20.64c1.89888,0 3.44,-1.54112 3.44,-3.44v-6.88c0,-1.89888 -1.54112,-3.44 -3.44,-3.44zM41.28,147.92c-1.89888,0 -3.44,1.54112 -3.44,3.44v6.88c0,1.89888 1.54112,3.44 3.44,3.44h20.64c1.89888,0 3.44,-1.54112 3.44,-3.44v-6.88c0,-1.89888 -1.54112,-3.44 -3.44,-3.44zM75.68,147.92c-1.89888,0 -3.44,1.54112 -3.44,3.44v6.88c0,1.89888 1.54112,3.44 3.44,3.44h20.64c1.89888,0 3.44,-1.54112 3.44,-3.44v-6.88c0,-1.89888 -1.54112,-3.44 -3.44,-3.44zM110.08,147.92c-1.89888,0 -3.44,1.54112 -3.44,3.44v6.88c0,1.89888 1.54112,3.44 3.44,3.44h20.64c1.89888,0 3.44,-1.54112 3.44,-3.44v-6.88c0,-1.89888 -1.54112,-3.44 -3.44,-3.44z"></path>
                </g>
              </g>
            </svg>

            <span className="mx-2">INVOICE</span>
          </div>
        </li>

        <li>
          <div>
            {products.length > 0 && (
              <Button
                type="button"
                label="DELETE ALL PRODUCTS"
                onClick={removerAllProductshandler}
                disabled={loading}
              />
            )}

            {button ? (
              button
            ) : (
              <Button
                type="button"
                label="ADD PRODUCT"
                onClick={showAddProductHandler}
                style={{ marginLeft: "10px" }}
                disabled={loading}
              />
            )}

            {session && (
              <Button
                label="SIGN OUT"
                type="button"
                style={{ marginLeft: "10px" }}
                onClick={() => {
                  signOut();
                }}
              />
            )}
          </div>
        </li>
      </ul>
    </div>
  );
};

export default Header;
